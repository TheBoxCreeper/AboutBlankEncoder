const site = 'https://sites.google.com/view/terminal-games';
const version = '1.1';
const latestcode = 'data:text/html, <!DOCTYPE html> <html contenteditable=\"true\"> <head> <title id=\"title\">New Tab</title> <link rel=\"shortcut icon\" id=\"icon\" href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAZlBMVEUAAAA4QEBAQEA8QEA8QEM8QEM8QEI8QEM4QEg9QEM8QEQ+QEM7QEM9QEI9QEM7QEM6QEA6QEI7QEM7QEI9QEI7QEI8QEI9QEQ8QEE8QEI8QEQ8QEQ8QEQ8QEM6QEU7QEQ8QEI8QEPSI5agAAAAIXRSTlMAIBBAkL/v7yBQQF/f39+fMGCg349wgI+Qz89/gK8wcH9t5kdPAAABEklEQVR42q3SBZLDMBQDUJlhy8yt7n/Jre3YgclwX7mBLyXGTyl9c6QzWmHOdsVm8Ycpbziy8Bj5c5xwAQOBM4ZjVpzhPJojM/sIYkCilyNqiXlrIJJ8A5AblfdSBbJIBTx5AuQhlVl7QDMre1y4kBBXwJes6ae0THSdfwI2wI6dM/BgckViSSfTfBb5ZyhfkPBrnbM0GwhmSGqcFxs12iHnMSjBCok4GHGrV16zs66BTanZui2Z7QWwGtSMrZtIx1ktgXvNknUHHlPVuEmNfXcqFFsWH1S7yYowLBZrJYQHNvUElbDstYRWzC65dRs5XpSWrWK5qTZgRCxbrgO/jMDUdlly+fTxhzlRmwDcjY74pX/TRjTEQIWxRAAAAABJRU5ErkJggg==\"> <script src=\"https://unpkg.com/@ruffle-rs/ruffle\">\</script> <style> .linkst { color: rgb(0,0,238); text-decoration: underline; cursor: pointer; } </style> </head> <body> <div id=\"storage\"><title id=\"title\">New Tab</title> <link rel=\"shortcut icon\" id=\"icon\" href=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAZlBMVEUAAAA4QEBAQEA8QEA8QEM8QEM8QEI8QEM4QEg9QEM8QEQ+QEM7QEM9QEI9QEM7QEM6QEA6QEI7QEM7QEI9QEI7QEI8QEI9QEQ8QEE8QEI8QEQ8QEQ8QEQ8QEM6QEU7QEQ8QEI8QEPSI5agAAAAIXRSTlMAIBBAkL/v7yBQQF/f39+fMGCg349wgI+Qz89/gK8wcH9t5kdPAAABEklEQVR42q3SBZLDMBQDUJlhy8yt7n/Jre3YgclwX7mBLyXGTyl9c6QzWmHOdsVm8Ycpbziy8Bj5c5xwAQOBM4ZjVpzhPJojM/sIYkCilyNqiXlrIJJ8A5AblfdSBbJIBTx5AuQhlVl7QDMre1y4kBBXwJes6ae0THSdfwI2wI6dM/BgckViSSfTfBb5ZyhfkPBrnbM0GwhmSGqcFxs12iHnMSjBCok4GHGrV16zs66BTanZui2Z7QWwGtSMrZtIx1ktgXvNknUHHlPVuEmNfXcqFFsWH1S7yYowLBZrJYQHNvUElbDstYRWzC65dRs5XpSWrWK5qTZgRCxbrgO/jMDUdlly+fTxhzlRmwDcjY74pX/TRjTEQIWxRAAAAABJRU5ErkJggg==\"> <!--script src=\"https://unpkg.com/@ruffle-rs/ruffle\"></script --></div> <h1 class=\"title\">Flash + Html Game Runner</h1> <p>Version 1.1 by <a id=\"s\" contenteditable=\"false\" href=\"https://sites.google.com/view/terminal-games\">Terminal</a></p> <p id=\"vc\">Get the latest version <a href=\'https://google.com\'>here (Right click to open)</a></p> <p id=\"fd\">Get some flash games <a contenteditable=\"false\" href=\"https://uc138c26fdf711d1dd27e2e91330.dl.dropboxusercontent.com/zip_download_get/CbqRcYmJpZRpEoj_yyc_BrP-m-4BimXn6IlQCn2A383GGKOMzccFoDBBRLY1MZuvBpNVM76kquAbhhPX2LvS_A6I2QXUwBWC8BrfXqQnmw0OAQ\">here</a></p> <p style=\"color:rgb(255,0,0)\">Note that if you are using a data URL version (data:text/html), then some games may not work properly!</p> <p>A place to run your flash and html games! Flash games will require an internet connection, or the <a contenteditable=\"false\" href=\"https://ruffle.rs\">Ruffle</a> extension to work.</p> <input id=\"titleChange\" placeholder=\"Change Title\"> <button type=\"button\" id=\"iconChange\" contenteditable=\"false\">Change Icon</button> <br> <br> <a id=\"textDisplay\" style=\"display:block\" contenteditable=\"false\">Image Chosen: No Image Chosen</a> <br> <img style=\"display:block\" id=\"display\" src=\"%23\" alt=\"Image Chosen\"> <input type=\"file\" accept=\"image/*\" id=\"iconInput\" style=\"display:none\"> <br> <p>HTML Games upload notice: Some games may not work properly if they use local storage (Storing data on your browser).</p> <p>Flash Games upload notice: Flash games only work if you have an internet connection.</p> <button type=\"button\" id=\"contentUpload\" contenteditable=\"false\">Upload Games</button> <input type=\"file\" accept=\".swf,.spl,.html\" id=\"contentInput\" style=\"display:none\"> <br> <br> <a id=\"fileDisplay\" style=\"display:block\" contenteditable=\"false\" onclick = \"lClick()\">File Chosen: No File Chosen</a> <p id=\"fileExt\">File Type: No File Chosen</p> <input id=\"loadUrl\" placeholder=\"Load from URL\"> <br> <br> <button type=\"button\" id=\"contentUpload\" contenteditable=\"false\" style = \"display:none\">Upload Game Folder (For dependencies on other files)</button> <input type=\"file\" webkitdirectory id=\"folderInput\" style=\"display:none\"webkitdirectory> <br> <br> <div id=\"playContainer\" width=\"100%\" height=\"500px\" style=\"background-color:rgb(0,0,0)\"> <div id=\"cTC\"></div> </div> <script> const title = document.getElementById(\'title\'); const icon = document.getElementById(\'icon\'); const upload1 = document.getElementById(\'iconInput\'); const upload2 = document.getElementById(\'contentInput\'); const contplr = document.getElementById(\'playContainer\'); const input = document.getElementById(\'titleChange\'); const imgDisplay = document.getElementById(\'display\'); const iconButton = document.getElementById(\'iconChange\'); const contentUpload = document.getElementById(\'contentUpload\'); const textDisplay = document.getElementById(\'textDisplay\'); const fileDisplay = document.getElementById(\'fileDisplay\'); const fileExt = document.getElementById(\'fileExt\'); const urlLoader = document.getElementById(\'loadUrl\'); let fileType; let urlValue; let loadType; let win; const popup = true; const urlObj = new window.URL(window.location.href); input.addEventListener(\'change\', function(event) {title.textContent = input.value;}); urlLoader.addEventListener(\'keydown\', function(event) { if (event.key === \'Enter\') { if (!checkString(urlLoader.value,[\'https://\',\'file://\',\'http://\',\'data:\',\'chrome-extension://\'])) {urlLoader.value = \"https://\"+urlLoader.value;}; urlValue = urlLoader.value; if (contplr && contplr.firstChild) { contplr.removeChild(contplr.firstElementChild); } else { console.warn(\"Game container is missing during clean up, clean up and game loading may be affected.\") } const cTC = document.createElement(\'div\'); cTC.id = \"cTC\"; contplr.appendChild(cTC); fileDisplay.textContent = \"File Chosen: Web Flash URL\"; fileDisplay.classList.add(\"linkst\"); fileType = \'flash\'; loadType = true; fileExt.textContent = \'File Type: Shockwave Flash\'; const ruffle = window.RufflePlayer.newest(); const player = ruffle.createPlayer(); cTC.appendChild(player); player.load({ url: urlValue, backgroundColor: \"FFFFFF\",showSwfDownload: true}); player.style.width = \"600px\"; player.style.height = \"400px\"; } }); iconButton.onclick = function() {upload1.click();}; function checkString(str, substrs) { return substrs.some(substr => str.startsWith(substr)); }; function lClick() { if (loadType) { if (win) {win.focus();} else {if (popup) { win = window.open(\'\',\'_blank\',\'width=600;height=400\'); } else { win = window.open(); } win.document.body.style.margin = \'0px\'; win.document.body.style.height = \'100vh\'; Array.from(document.getElementById(\'storage\').children).forEach(child => {win.document.head.appendChild(child.cloneNode(true));}); const ls = win.document.createElement(\'script\'); ls.textContent = \`const rs = document.createElement(\'script\'); rs.src = \"https://unpkg.com/@ruffle-rs/ruffle\"; document.head.appendChild(rs);rs.onload = () => {const ruffle = window.RufflePlayer.newest(); const player = ruffle.createPlayer(); document.body.appendChild(player); player.load({ url: \'${urlValue}\', backgroundColor: \"FFFFFF\",showSwfDownload: true}); player.style.width = \"100%\"; player.style.height = \"100%\";}\`;win.document.body.appendChild(ls);const interval = setInterval(function() {if (win.closed) {clearInterval(interval);win = undefined}}, 500)} } } upload1.onchange = evt => { const [file] = upload1.files; if (file) { b = URL.createObjectURL(file); imgDisplay.src = b; icon.href = b; textDisplay.href = b; textDisplay.textContent = \"Image Chosen: \" + file.name; return b; }; }; contentUpload.onclick = function() { upload2.click(); }; upload2.onchange = evt => { loadType = false; const [deltafile] = upload2.files; if (deltafile) { alphaBlob = URL.createObjectURL(deltafile); fileDisplay.href = alphaBlob; fileDisplay.classList.remove(\"linkst\"); fileDisplay.textContent = \"File Chosen: \" + deltafile.name; if (contplr && contplr.firstChild) { contplr.removeChild(contplr.firstElementChild); } else { console.warn(\"Game container is missing during clean up, clean up and game loading may be affected.\") } const cTC = document.createElement(\'div\'); cTC.id = \"cTC\"; contplr.appendChild(cTC); const fileName = deltafile.name; const preType = fileName.split(\'.\').pop(); if (preType === \'swf\' || preType === \'spl\') { fileType = \'flash\'; fileExt.textContent = \'File Type: Shockwave Flash\'; const ruffle = window.RufflePlayer.newest(); const player = ruffle.createPlayer(); cTC.appendChild(player); player.load({ url: alphaBlob, backgroundColor: \"FFFFFF\",}); player.style.width = \"600px\"; player.style.height = \"400px\"; return alphaBlob; } else if (preType === \'html\') { fileType = \'html\'; fileExt.textContent = \'File Type: HyperText Markup Language\'; const iframe = document.createElement(\'iframe\'); cTC.appendChild(iframe); iframe.src = alphaBlob; iframe.style.width = \'600px\'; iframe.style.height = \'400px\'; iframe.style.backgroundColor = \'rgb(255,255,255)\'; } else { fileType = \'unknown\'; fileExt.textContent = \'File Type: \' + preType + \' (Invalid)\'; } }; }; \</script> <script src=\"https://cdn.jsdelivr.net/gh/TheBoxCreeper/AboutBlankEncoder@master/or/data/fhgr.js\">\</script> </body> </html> <!--                                                                                                                           chrome://newtab';
document.getElementById("s")?.setAttribute("href", site);
const codeurl = document.createElement('a');
codeurl.setAttribute("href", latestcode);
codeurl.textContent = "here (Right click to open)";
document.getElementById("vc").textContent = "Get the latest version ("+version+") ";
document.getElementById("vc").appendChild(codeurl);
const flashurl = document.createElement('a');
flashurl.setAttribute("href", "https://www.dropbox.com/scl/fo/840530vlrwekwv6v0dhv7/AHQ3wkuRSZpEKjNVW4bc_f8?rlkey=yfsj740yp16kg8uzn4zag1o59&e=3&st=h2dsak8a&dl=1");
flashurl.textContent = "here";
flashurl.setAttribute("contenteditable",false);
document.getElementById("fd").textContent = "Get some flash games ";
document.getElementById("fd").appendChild(flashurl);
